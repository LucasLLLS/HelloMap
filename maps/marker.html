<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>

<style>
	#map{
		width: 500px;
		height: 500px;
	}
</style>
<body>

	<div id="map"></div>

	<script src="jquery.js"></script>
	<script>

		places = [
			["R. Eliane Araújo Neves - Jardim Catanduva, São Paulo - SP, Brasil",
			-23.627755,-46.7635051],

			["Av. Paulista - Bela Vista, São Paulo - SP, 01311-200, Brasil",
			-23.562382,
			-46.6555401],

			["R. Brandino Francisco Genovesi - Campo Limpo, São Paulo - SP, 05758-040",
			-23.6283072,
			-46.7616257]
		];

		function initMap(lat, lng) {
			

			var myLatLng = {lat: lat, lng: lng};

			var map = new google.maps.Map(document.getElementById('map'), {
			  zoom: 14,
			  center: myLatLng
			});

			//Pega local atual
		    var marker = new google.maps.Marker({
		      position: myLatLng,
		      map: map,
		      title: 'Hello World!'
		    });


		    //Pega locais cadastrados próximos
		    var i = 0;
	        for(i=0;i<places.length;i++){
	        	var lt = places[i][1];
	        	var ln = places[i][2];
	        	var myLatLng = {lat: lt, lng: ln};
	        	var marker = new google.maps.Marker({
			      position: myLatLng,
			      map: map,
			      title: places[i][0]
			    });
	        }
		}

		$(document).ready(function(){
			if (navigator.geolocation) {
	            navigator.geolocation.getCurrentPosition(showPosition);
	        } else {
	            x.innerHTML = "Geolocation is not supported by this browser.";
	        }

			function showPosition(position) {
		        var lat = position.coords.latitude;
		        var lng = position.coords.longitude;

		        initMap(lat, lng);
		    }
		});

		


	</script>

	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBtClF2NyqzWzSHSMH1Ifk459K5k6kycQw"></script>
	
</body>
</html>